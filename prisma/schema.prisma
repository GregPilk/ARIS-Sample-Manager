// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

// Looking for ways to speed up your queries, or scale easily with your serverless or edge functions?
// Try Prisma Accelerate: https://pris.ly/cli/accelerate-init

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}

model Record {
  chainOfCustody               String      @id @map("_id")
  reportToCompany              String
  reportToContact              String
  reportToPhone                String
  reportToStreet               String
  reportToCity                 String
  reportToPostal               String
  invoiceToSameAsReport        String
  invoiceToCopyOfInvoice       String
  invoiceToCompany             String
  invoiceToContact             String
  reportRecipientFormat        String
  mergeQCReports               String
  selectDistribution           String
  reportRecipientEmailOne      String
  reportRecipientEmailTwo      String
  reportRecipientEmailThree    String
  invoiceRecipientDistribution String
  invoiceRecipientEmailOne     String
  invoiceRecipientEmailTwo     String
  samples                      Sample[]
}

model Sample {
  sampleID             String     @id @map("_id")
  type                 String
  tests                Test[]
  Record               Record? @relation(fields: [recordChainOfCustody], references: [chainOfCustody])
  recordChainOfCustody String?
}

model Test {
  id                          String  @id @default(auto()) @map("_id") @db.ObjectId
  name                        String
  completedBy                 String
  Sample                      Sample? @relation(fields: [sampleSampleID], references: [sampleID])
  sampleSampleID              String?
  
  // required for Ph and Conductivity - note this is a hand written result
  ph                          String?
  conductivity                String?

  // required for TSS                 - note this is a hand written result
  tssInMgl                    String?

  //required for IC 
  determinationStart          String?
  ident                       String?
  sampleType                  String?
  methodName                  String?
  infoOne                     String?
  anionsChlorideConcentration String?
  anionsSulfateConcentration  String?

  //required for TICTOC
  type                        String?
  analogy                     String?
  resultTOC                   String?
  resultTC                    String?
  resultIC                    String?
  resultPOC                   String?
  resultNPOC                  String?
  resultTN                    String?
  unit                        String?
  vial                        String?

  //required for Alkalinity
  ID1value                    String?
  RS01name                    String?
  RS01value                   String?
  RS01unit                    String?
  sampleSizeValue             String?
  unitValue                   String?
  remarks                     String?
  RS02name                    String?
  RS02value                   String?
  RS02unit                    String?
  RS02meanValue               String?
  //determinationStart        - also required for IC
  //methodName                - also required for IC                  

  //required for ICP (Metals)




}
